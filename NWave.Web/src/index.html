<!--
File: index.html
Project: nwave.web
-----
File Created: Saturday, 30th December 2023 2:44:56 pm
Last Modified: Saturday, 30th December 2023 2:44:57 pm
-----
Modified By: Read Stanton (decimation001@gmail.com>)
-----
Author: Read Stanton (decimation001@gmail.com)
Homepage: https://github.com/Decimation
-->

<!DOCTYPE html>
<html>

<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
			integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
			integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
			crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
			integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
			crossorigin="anonymous"></script>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
			integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<script src="client.js"></script>

	<title>My Website</title>
	<style>
		table {
			width: 100%;
			border-collapse: collapse;
		}

		th,
		td {
			padding: 8px;
			text-align: left;
			border-bottom: 1px solid #ddd;
		}

		button {
			padding: 5px 10px;
			border: none;
			background-color: #4CAF50;
			color: white;
			cursor: pointer;
		}
	</style>
</head>

<body>
	<h1>Welcome to My Website</h1>
	<table id="objectTable">
		<thead>
			<tr>
				<th>Name</th>
				<th>Status</th>
				<th>Action</th>
			</tr>
		</thead>
		<tbody>
		</tbody>
	</table>

	<script>
		
		
	const HOST_LOCAL1 = '192.168.1.79';
	const HOST_LOCAL2 = 'localhost';
	const HOST_REMOTE = '206.196.32.236';
	const HOST_LR = process.argv[0] === '-d' ? HOST_LOCAL1 : HOST_REMOTE;
	const PORT = '60900';
	const HOST = `http://${HOST_LR}:${PORT}`;
		// Function to update the table dynamically
		function updateTable(objects) {
			var tableBody = document.querySelector("#objectTable tbody");
			tableBody.innerHTML = "";

			objects.forEach(function (object) {
				var row = document.createElement("tr");

				var nameCell = document.createElement("td");
				nameCell.textContent = object.name;
				row.appendChild(nameCell);

				var statusCell = document.createElement("td");
				statusCell.textContent = object.status;
				row.appendChild(statusCell);

				var buttonCell = document.createElement("td");
				var button = document.createElement("button");
				button.textContent = "Click";
				buttonCell.appendChild(button);
				row.appendChild(buttonCell);

				tableBody.appendChild(row);
			});
		}

		// Function to periodically send a request to the server and update the table
		async function fetchData() {
			// Make a request to the server to get the updated data
			// Replace the URL with your server endpoint
			await fetch(`${HOST}/Status`)
				.then((res) => res.json())
				.then((json) => {
					cond.log(json);
				})
				.catch((err) => {
					debug.error(err);
				});
		}

		// Call the fetchData function initially
		fetchData();

		// Call the fetchData function every 5 seconds
		setInterval(fetchData, 5000);
	</script>
</body>

</html>